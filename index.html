<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>快乐周末倒计时</title>
<link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.css" rel="stylesheet">

<style>
	
	body {
		width: 100%;
		height: 100%x;
		background: url(http://pic1.win4000.com/wallpaper/2019-01-10/5c36af87b6610.jpg);
		background-size: 100%;
		background-repeat: no-repeat;
		margin: 0 auto;
		padding-top: 5%;
	}
	#timer {
		font-size:6vw; 
		text-align:center; 
		font-family:'BebasNeueRegular', Arial, Helvetica, sans-serif;
		text-shadow:0 0 5px #00c6ff;
		width: 75%;
		margin: 0 auto;
		color: yellow;
		transition: all linear 1s;
	}

	#title {
		font-size:6vw; 
		text-align:center; 
		font-family:'BebasNeueRegular', Arial, Helvetica, sans-serif;
		text-shadow:0 0 5px #00c6ff;
		width: 75%;
		margin: 0 auto;
		color: yellow;
		transition: all linear 1s;
	}


	#yu {
		font-size:5em; 
		text-align:center; 
		font-family:'BebasNeueRegular', Arial, Helvetica, sans-serif; 
		text-shadow:0 0 5px #00c6ff; 
		background: url();
		background-size: 100%;
		height: 50%;
		width: 75%;
		background-repeat: no-repeat;
		margin: 0 auto;
		margin-top: 3%;
	}
</style>
</head>
  
<body>
	<div class="bg">

		<h1 id="title">距离快乐周末还有</h1>

		<div id="timer" ></div>
	  
		<div id="yu" class="animated rollIn" style="animation-delay: 1s"></div>

		

	</div>
	<audio autoplay="autoplay" loop="loop" src="http://m10.music.126.net/20190823133438/b919c945e15276821a76406bd38add23/ymusic/0e0e/060b/005a/9d34bf09cc1a6eed598b70b91df8bde7.mp3" >你的浏览器不支持audio标签。</audio>

<script type="text/javascript">
  
  
	var time_now_server,time_now_client,time_end,time_server_client,timerID;
	
	//获得今天日期时间
	let d = new Date();
	//设置时间为下午18:00:00
	d.setHours(18, 0, 0, 0);
	//获得今天与星期五的日差
	let week;
	var title = document.getElementById("title");
	console.log("day:" + d.getDay() );
	console.log("getHours:" + d.getHours() );
	if (d.getDay() == 5 && d.getHours() > 18){
		week = 12 - (d.getDay() ? d.getDay() : 7);
		title.innerHTML = "尽情享受您的周末时光吧！<br>距离下一次快乐周末还有";
	}else if(d.getDay() > 5){
		week = 12 - (d.getDay() ? d.getDay() : 7);
		title.innerHTML = "尽情享受您的周末时光吧！<br>距离下一次快乐周末还有";
	}else if(d.getDay() == 1){
		week = 5 - (d.getDay() ? d.getDay() : 7);
		title.innerHTML = "又是他娘的周一！<br>距离下一次快乐周末还有";
	}
	else{
		week = 5 - (d.getDay() ? d.getDay() : 7);
	}
	let result = d.getTime() + week * 86400000 ;
	time_end = result;
	time_now_server=new Date;

	time_now_server=time_now_server.getTime();
	  
	time_now_client=new Date();

	time_now_client=time_now_client.getTime();
	  
	time_server_client=time_now_server-time_now_client;
	  
	setTimeout("show_time()",1000);
	  
	  
	//显示时间函数
	function show_time(){

		var timer = document.getElementById("timer");

		if(!timer){

			return ;

	 	}

	 	timer.innerHTML =time_server_client;
	  
		var time_now,time_distance,str_time;

		var int_day,int_hour,int_minute,int_second;

		var time_now=new Date();

		time_now=time_now.getTime()+time_server_client;

		time_distance=time_end-time_now;

	 	if(time_distance>0){

			int_day=Math.floor(time_distance/86400000)

			time_distance-=int_day*86400000;

			int_hour=Math.floor(time_distance/3600000)

			time_distance-=int_hour*3600000;

			int_minute=Math.floor(time_distance/60000)

			time_distance-=int_minute*60000;

			int_second=Math.floor(time_distance/1000)
	  
			if(int_hour<10){
				int_hour="0"+int_hour;
			}
			if(int_minute<10){
				int_minute="0"+int_minute;
			}
			if(int_second<10){
				int_second="0"+int_second;
			}
	  
	 		str_time=int_day+"天"+int_hour+"小时"+int_minute+"分钟"+int_second+"秒";

			timer.innerHTML=str_time;

	 		setTimeout("show_time()",1000);
	  
		}else{
		  
		 	timer.innerHTML =timer.innerHTML;

		 	clearTimeout(timerID)

		 	window.location.href="http://www.baidu.com";

		}

	}
	function time(){
		setInterval(ran,4000);  

		function ran() {
				var x = Math.floor(Math.random() * (255 - 0 + 1) + 0);
				var y = Math.floor(Math.random() * (255 - 0 + 1) + 0);
				var z = Math.floor(Math.random() * (255 - 0 + 1) + 0);
				var color = "rgb(" + x + "," + y + "," + z + ")";     			
				document.getElementById("timer").style.color=color;			   				
		}
	};
	//time();
</script>
</body>
</html>